{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:40:47 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:35:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.70654296875,2.5244140625,2.41162109375],"uptime":782344},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18287824,"external":19430742,"heapTotal":33054720,"heapUsed":29706032,"rss":76468224},"pid":78286,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"55","content-type":"application/json","host":"localhost:3000","postman-token":"fa37e6b9-469f-4d97-a71b-859de78eaeff","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:35:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":16,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js","function":null,"line":35,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:43:36 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:35:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.7705078125,2.4814453125,2.39892578125],"uptime":782513},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377162,"external":19429494,"heapTotal":65560576,"heapUsed":30363096,"rss":95268864},"pid":78457,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"55","content-type":"application/json","host":"localhost:3000","postman-token":"87447267-3ab0-456e-9963-cfc6f539e7d8","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:35:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":16,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js","function":null,"line":35,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:44:14 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:36:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.2939453125,2.39501953125,2.3701171875],"uptime":782551},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377162,"external":19429494,"heapTotal":65298432,"heapUsed":30376696,"rss":97046528},"pid":78521,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"55","content-type":"application/json","host":"localhost:3000","postman-token":"e069cfb8-0366-4f21-8d94-a28a73dc5e21","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:36:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":16,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js","function":null,"line":36,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:49:33 GMT+0300 (Moscow Standard Time)","error":{"name":"KeyDublicateError","statusCode":409},"exception":true,"level":"error","message":"uncaughtException: Пользователь с таким email уже существует\nKeyDublicateError: Пользователь с таким email уже существует\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:32:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.6923828125,2.65234375,2.52294921875],"uptime":782870},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18289444,"external":19341776,"heapTotal":33054720,"heapUsed":30223144,"rss":76087296},"pid":78758,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"925719ba-7b94-44a3-bdc0-64c690d7e6f2","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"KeyDublicateError: Пользователь с таким email уже существует\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:32:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":16,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js","function":null,"line":32,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:49:39 GMT+0300 (Moscow Standard Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: User.findByCredentials is not a function\nTypeError: User.findByCredentials is not a function\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.751953125,2.66357421875,2.52783203125],"uptime":782876},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18298368,"external":19350740,"heapTotal":33054720,"heapUsed":30512864,"rss":76382208},"pid":78758,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"c991d889-33c9-46c8-aa16-f936bc550e6f","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"TypeError: User.findByCredentials is not a function\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":8,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js","function":"handleLogin","line":9,"method":null,"native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:51:01 GMT+0300 (Moscow Standard Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: User.findByCredentials is not a function\nTypeError: User.findByCredentials is not a function\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[3.55224609375,2.85888671875,2.607421875],"uptime":782958},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377170,"external":19429502,"heapTotal":65298432,"heapUsed":30064488,"rss":96342016},"pid":78836,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"a029d026-4e0f-44fb-b85e-452f11395be5","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"TypeError: User.findByCredentials is not a function\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":8,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js","function":"handleLogin","line":9,"method":null,"native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:51:45 GMT+0300 (Moscow Standard Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: AuthError is not defined\nReferenceError: AuthError is not defined\n    at userSchema.statics.findByCredentials (/Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js:24:17)\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.9853515625,2.7998046875,2.595703125],"uptime":783002},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377170,"external":19429502,"heapTotal":65560576,"heapUsed":30129912,"rss":95694848},"pid":78886,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"6c2856e4-4f61-4a39-a065-965aefa0dfd4","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"ReferenceError: AuthError is not defined\n    at userSchema.statics.findByCredentials (/Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js:24:17)\n    at handleLogin (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js:9:8)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":17,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js","function":"userSchema.statics.findByCredentials","line":24,"method":"findByCredentials","native":false},{"column":8,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/login.js","function":"handleLogin","line":9,"method":null,"native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 22:53:58 GMT+0300 (Moscow Standard Time)","error":{"name":"AuthError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nAuthError: Необходима авторизация\n    at module.exports (/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:328:13)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:280:10)\n    at cors (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:188:7)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:214:15)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:219:13","os":{"loadavg":[2.90185546875,2.88232421875,2.65673828125],"uptime":783135},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18280970,"external":19333302,"heapTotal":33054720,"heapUsed":29774496,"rss":76382208},"pid":78998,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"7e5a8dcc-3d6b-4b29-a937-e378c1e5cab1","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"AuthError: Необходима авторизация\n    at module.exports (/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:328:13)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:280:10)\n    at cors (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:188:7)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:214:15)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:219:13","trace":[{"column":10,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":11,"method":"exports","native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":"cors","line":188,"method":null,"native":false},{"column":17,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":null,"line":224,"method":null,"native":false},{"column":15,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":"originCallback","line":214,"method":null,"native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":null,"line":219,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:11:09 GMT+0300 (Moscow Standard Time)","error":{"name":"KeyDublicateError","statusCode":409},"exception":true,"level":"error","message":"uncaughtException: Пользователь с таким email уже существует\nKeyDublicateError: Пользователь с таким email уже существует\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:31:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.224609375,1.802734375,2.2802734375],"uptime":784166},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18293466,"external":19345798,"heapTotal":33841152,"heapUsed":30321800,"rss":77115392},"pid":79660,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"dd1d38a6-68ba-42d6-9234-a07fcd2e111c","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"KeyDublicateError: Пользователь с таким email уже существует\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js:31:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":16,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/users.js","function":null,"line":31,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:11:38 GMT+0300 (Moscow Standard Time)","error":{"name":"AuthError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nAuthError: Необходима авторизация\n    at module.exports (/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:328:13)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:280:10)\n    at cors (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:188:7)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:214:15)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:219:13","os":{"loadavg":[1.11669921875,1.72412109375,2.23388671875],"uptime":784195},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18375328,"external":19427660,"heapTotal":32530432,"heapUsed":29553696,"rss":76685312},"pid":79713,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"3653e86e-93d7-4ea7-a2ab-c728f217695e","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"AuthError: Необходима авторизация\n    at module.exports (/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:328:13)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js:280:10)\n    at cors (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:188:7)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:214:15)\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js:219:13","trace":[{"column":10,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/middlewares/auth.js","function":"module.exports","line":11,"method":"exports","native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":"cors","line":188,"method":null,"native":false},{"column":17,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":null,"line":224,"method":null,"native":false},{"column":15,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":"originCallback","line":214,"method":null,"native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/cors/lib/index.js","function":null,"line":219,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:24:08 GMT+0300 (Moscow Standard Time)","error":{"name":"NotFoundError","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Указан некорректный путь\nNotFoundError: Указан некорректный путь\n    at /Users/maksim/Desktop/dev/movies-explorer-api/app.js:42:8\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:114:3)","os":{"loadavg":[2.19091796875,2.08984375,2.1875],"uptime":784945},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18288785,"external":19341117,"heapTotal":33054720,"heapUsed":29924552,"rss":76181504},"pid":80160,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"79","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZTBjNTc3NzBlMzQ3MjJkMGZkODYiLCJpYXQiOjE2NjY5MDIyMzksImV4cCI6MTY2NzUwNzAzOX0.P7_9Fk1-t8KmG0PqagqGF2UBL3HdDxc-UwH0l3C6Kso","host":"localhost:3000","postman-token":"fc9f708e-7e63-4d44-a37a-004196322207","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"GET","originalUrl":"/users","query":{},"url":"/users"},"stack":"NotFoundError: Указан некорректный путь\n    at /Users/maksim/Desktop/dev/movies-explorer-api/app.js:42:8\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:114:3)","trace":[{"column":8,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/app.js","function":null,"line":42,"method":null,"native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":144,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":7,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":140,"method":null,"native":false},{"column":3,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:25:12 GMT+0300 (Moscow Standard Time)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.98876953125,2.052734375,2.1630859375],"uptime":785009},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18289136,"external":19341508,"heapTotal":33841152,"heapUsed":30465008,"rss":76554240},"pid":80160,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"81","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZTBjNTc3NzBlMzQ3MjJkMGZkODYiLCJpYXQiOjE2NjY5MDIyMzksImV4cCI6MTY2NzUwNzAzOX0.P7_9Fk1-t8KmG0PqagqGF2UBL3HdDxc-UwH0l3C6Kso","host":"localhost:3000","postman-token":"25053641-6284-427b-adf3-4cc2fcdd6a4b","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"Error: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:25:21 GMT+0300 (Moscow Standard Time)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.3095703125,2.1181640625,2.185546875],"uptime":785018},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18297733,"external":19350105,"heapTotal":33841152,"heapUsed":30684536,"rss":76845056},"pid":80160,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZTBjNTc3NzBlMzQ3MjJkMGZkODYiLCJpYXQiOjE2NjY5MDIyMzksImV4cCI6MTY2NzUwNzAzOX0.P7_9Fk1-t8KmG0PqagqGF2UBL3HdDxc-UwH0l3C6Kso","host":"localhost:3000","postman-token":"7dfabf85-d35e-4c53-92f8-acb422526f65","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"Error: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:26:57 GMT+0300 (Moscow Standard Time)","error":{"name":"AuthError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Неправильные почта или пароль\nAuthError: Неправильные почта или пароль\n    at /Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js:33:33","os":{"loadavg":[3.009765625,2.54296875,2.34814453125],"uptime":785114},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18282057,"external":19334389,"heapTotal":33579008,"heapUsed":30132880,"rss":75862016},"pid":80242,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"81","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZTBjNTc3NzBlMzQ3MjJkMGZkODYiLCJpYXQiOjE2NjY5MDIyMzksImV4cCI6MTY2NzUwNzAzOX0.P7_9Fk1-t8KmG0PqagqGF2UBL3HdDxc-UwH0l3C6Kso","host":"localhost:3000","postman-token":"461701c0-7b41-45ce-ac9c-c1caa9e81f39","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"AuthError: Неправильные почта или пароль\n    at /Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js:33:33","trace":[{"column":33,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/models/userModel.js","function":null,"line":33,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:37:26 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:22:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.8251953125,2.47314453125,2.4775390625],"uptime":785743},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18311016,"external":19363348,"heapTotal":33841152,"heapUsed":31043896,"rss":76668928},"pid":80511,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"282","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"8145cff4-53ed-4d36-823b-70ad484cbfd0","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:22:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":14,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js","function":null,"line":22,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:37:42 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.8076171875,2.43359375,2.462890625],"uptime":785759},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377368,"external":19429700,"heapTotal":65560576,"heapUsed":30789016,"rss":96235520},"pid":80740,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"282","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"6262c7bf-2101-401e-92e7-36842fd80b65","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":14,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js","function":null,"line":33,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:38:18 GMT+0300 (Moscow Standard Time)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.64990234375,2.333984375,2.4248046875],"uptime":785795},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18290023,"external":19342395,"heapTotal":33841152,"heapUsed":30234792,"rss":77115392},"pid":80740,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"283","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"ba06a118-a42c-4bb3-908a-510cea411db7","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"Error: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:38:38 GMT+0300 (Moscow Standard Time)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.66259765625,2.294921875,2.40771484375],"uptime":785815},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18291547,"external":19343919,"heapTotal":33841152,"heapUsed":30530576,"rss":77492224},"pid":80740,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"283","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"eda56429-921f-424f-a071-325e56fd560c","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"Error: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:39:02 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.86865234375,2.287109375,2.4013671875],"uptime":785839},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18377369,"external":19429701,"heapTotal":65822720,"heapUsed":30979736,"rss":97689600},"pid":80780,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"283","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"e26397ec-9a06-41b1-826a-a982fd066831","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":14,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js","function":null,"line":33,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:39:50 GMT+0300 (Moscow Standard Time)","error":{"name":"ValidationError","statusCode":400},"exception":true,"level":"error","message":"uncaughtException: Ошибка валидации mongoose\nValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.6513671875,2.15185546875,2.341796875],"uptime":785887},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18290640,"external":19343012,"heapTotal":33579008,"heapUsed":30355296,"rss":77869056},"pid":80780,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"283","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"a22c0ca3-01b7-4587-ba2f-0b02e664eb0c","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"ValidationError: Ошибка валидации mongoose\n    at /Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:33:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":14,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js","function":null,"line":33,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:42:47 GMT+0300 (Moscow Standard Time)","error":{"name":"NotFoundError","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Запрашиваемый фильм не найден\nNotFoundError: Запрашиваемый фильм не найден\n    at movieSchema.statics.checkUserRights (/Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js:69:13)\n    at removeMovie (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:42:9)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.81689453125,2.119140625,2.29248046875],"uptime":786064},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18293663,"external":19345995,"heapTotal":33841152,"heapUsed":30495448,"rss":77537280},"pid":80895,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"283","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"a9e37315-fad6-484d-a85b-efcbbb04bbca","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"DELETE","originalUrl":"/movies/635aecef4856211496c19e80","query":{},"url":"/movies/635aecef4856211496c19e80"},"stack":"NotFoundError: Запрашиваемый фильм не найден\n    at movieSchema.statics.checkUserRights (/Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js:69:13)\n    at removeMovie (/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js:42:9)\n    at Layer.handle [as handle_request] (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js:144:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js","function":"movieSchema.statics.checkUserRights","line":69,"method":"checkUserRights","native":false},{"column":9,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/controllers/movies.js","function":"removeMovie","line":42,"method":null,"native":false},{"column":5,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/express/lib/router/route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:45:48 GMT+0300 (Moscow Standard Time)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.41064453125,1.8916015625,2.16552734375],"uptime":786245},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18292094,"external":19344426,"heapTotal":34365440,"heapUsed":30772304,"rss":78614528},"pid":80983,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWE4YjZlYzQ3MmQwOTBkYzhjMDIiLCJpYXQiOjE2NjY5MDI3MDcsImV4cCI6MTY2NzUwNzUwN30.lS_pOcWFb5fSRblCh6qxqUU-q0KEP24EihZKqUtq-eQ","host":"localhost:3000","postman-token":"e0427c69-d993-4aaf-8588-17274a867033","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Error: Validation failed\n    at /Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Oct 27 2022 23:46:38 GMT+0300 (Moscow Standard Time)","error":{"name":"PermissionError","statusCode":403},"exception":true,"level":"error","message":"uncaughtException: У вас нет прав на удаление этого фильма\nPermissionError: У вас нет прав на удаление этого фильма\n    at /Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js:75:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.33740234375,2.123046875,2.23974609375],"uptime":786295},"process":{"argv":["/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","/Users/maksim/Desktop/dev/movies-explorer-api/app.js"],"cwd":"/Users/maksim/Desktop/dev/movies-explorer-api","execPath":"/Users/maksim/Desktop/dev/movies-explorer-api/node_modules/node/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18299462,"external":19351834,"heapTotal":34365440,"heapUsed":30660640,"rss":78548992},"pid":80983,"uid":501,"version":"v19.0.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","authorization":"Bearer jwt","connection":"keep-alive","content-length":"56","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzVhZWRmYWY5ZmE5MWZlN2M1NGY3ZjEiLCJpYXQiOjE2NjY5MDM1NjAsImV4cCI6MTY2NzUwODM2MH0.M2e1Pjk7lqA7zLHP-RsDfPY2omPvYhqIIcx2VhV7RKE","host":"localhost:3000","postman-token":"e920d00f-eeea-4eb8-9ada-0412df7d71c8","user-agent":"PostmanRuntime/7.29.2"},"httpVersion":"1.1","method":"DELETE","originalUrl":"/movies/635aecd2504e8a279ae41036","query":{},"url":"/movies/635aecd2504e8a279ae41036"},"stack":"PermissionError: У вас нет прав на удаление этого фильма\n    at /Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js:75:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":29,"file":"/Users/maksim/Desktop/dev/movies-explorer-api/models/movieModel.js","function":null,"line":75,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
